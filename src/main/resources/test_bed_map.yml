---
logger:
    '@id': logger
    loopTimeSecs: 0.025
    eventLogFilename: "/home/lvuser/logs/eventLog-"
    telemetryLogFilename: "/home/lvuser/logs/telemetryLog-"
    subsystems:
        - org.usfirst.frc.team449.robot.drive.unidirectional.DriveTalonClusterShiftable:
            '@id': drive
            leftMaster:
                org.usfirst.frc.team449.robot.jacksonWrappers.FPSTalon:
                    &leftMaster
                    '@id': leftMaster
                    port: 1
                    invertInVoltage: true
                    reverseOutput: false
                    reverseSensor: true
                    enableBrakeMode: true
                    postEncoderGearing: 0.49019607843137254901960784313725
                    feetPerRotation: 1
                    currentLimit: 50
                    voltageCompVoltage: 12
                    feedbackDevice: QuadEncoder
                    encoderCPR: 256
                    startingGear: LOW
                    perGearSettings:
                        - &lowGear
                          gear: LOW
                          voltsPerFPSSquaredFwd: 0.062306
                          voltsPerFPSFwd: 0.638969
                          interceptVoltageFwd: 0.797588
                          voltsPerFPSSquaredRev: 0.0768762
                          voltsPerFPSRev: 0.6217917
                          interceptVoltageRev: 0.7743393
                        - &highGear
                          gear: HIGH
                          voltsPerFPSSquaredFwd: 0.093670
                          voltsPerFPSFwd: 0.313972
                          interceptVoltageFwd: 0.986742
                          voltsPerFPSSquaredRev: 0.099897
                          voltsPerFPSRev: 0.304323
                          interceptVoltageRev: 0.894144
                    minNumPointsInBottomBuffer: 10
                    updaterProcessPeriodSecs: 0.005
                    statusFrameRatesMillis: !!map
                        AnalogTempVbat : 15
                    slaves:
                        - '@id': talon2
                          port: 2
                          inverted: false
                        - '@id': talon3
                          port: 3
                          inverted: false
            rightMaster:
                org.usfirst.frc.team449.robot.jacksonWrappers.FPSTalon:
                    <<: *leftMaster
                    '@id': rightMaster
                    port: 4
                    invertInVoltage: false
                    reverseOutput: false
                    reverseSensor: false
                    perGearSettings:
                        - <<: *lowGear
                          voltsPerFPSSquaredFwd: 0.054588
                          voltsPerFPSFwd: 0.641138
                          interceptVoltageFwd: 0.793247
                          voltsPerFPSSquaredRev: 0.0613468
                          voltsPerFPSRev: 0.6263795
                          interceptVoltageRev: 0.7668543
                        - <<: *highGear
                          voltsPerFPSSquaredFwd: 0.093752
                          voltsPerFPSFwd: 0.306405
                          interceptVoltageFwd: 0.997928
                          voltsPerFPSSquaredRev: 0.0945406
                          voltsPerFPSRev: 0.3034501
                          interceptVoltageRev: 0.8839750
                    slaves:
                        - '@id': talon5
                          port: 5
                          inverted: false
                        - '@id': talon6
                          port: 6
                          inverted: false
            startingOverrideAutoshift: true
            ahrs:
                '@id': navX
                port: kMXP
                invertYaw: true
            shiftComponent:
                org.usfirst.frc.team449.robot.components.ShiftComponent:
                    '@id': driveShiftComponent
                    otherShiftables:
                        - org.usfirst.frc.team449.robot.jacksonWrappers.FPSTalon:
                            leftMaster
                        - org.usfirst.frc.team449.robot.jacksonWrappers.FPSTalon:
                            rightMaster
                    piston:
                        '@id': driveShifter
                        forward: 4
                        reverse: 5
                    lowGearPistonPos: kForward
                    startingGear: HIGH
#                    startingGear: LOW
        - org.usfirst.frc.team449.robot.subsystem.singleImplementation.pneumatics.Pneumatics:
            '@id': pneumatics
            nodeID: 0
            pressureSensor:
              '@id': pressureSensor
              port: 0
              oversampleBits: 0
              averageBits: 0
        - org.usfirst.frc.team449.robot.other.UnidirectionalPoseEstimator:
            '@id': poseEstimator
            subsystem:
                org.usfirst.frc.team449.robot.drive.unidirectional.DriveTalonClusterShiftable:
                    drive
            absolutePosAngleTolerance: 5
defaultCommands:
    - subsystem:
        org.usfirst.frc.team449.robot.drive.unidirectional.DriveTalonClusterShiftable:
            drive
      command:
        org.usfirst.frc.team449.robot.commands.multiInterface.drive.UnidirectionalNavXShiftingDefaultDrive:
            '@id': defaultDriveCommand
            kP: 0.0
            kI: 0.0
            kD: 0.0
            absoluteTolerance: 0
            toleranceBuffer: 25
            deadband: 2
            maxAngularVelToEnterLoop: 0.05
            inverted: false
            highGearAngularCoefficient: 2
            driveStraightLoopEntryTimer:
                '@id': driveStraightLoopEntryTimer
                bufferTimeSeconds: 0.15
            subsystem:
                org.usfirst.frc.team449.robot.drive.unidirectional.DriveTalonClusterShiftable:
                    drive
            oi:
                org.usfirst.frc.team449.robot.oi.unidirectional.arcade.OIArcadeWithDPad:
                    '@id': oi
                    gamepad:
                        org.usfirst.frc.team449.robot.jacksonWrappers.MappedJoystick:
                            '@id': driverGamepad
                            port: 1
                    rotThrottle:
                        org.usfirst.frc.team449.robot.oi.throttles.ThrottlePolynomial:
                            &rotThrottle
                            '@id': rotThrottle
                            stick: driverGamepad
                            axis: 0
                            smoothingTimeSecs: 0.04
                            deadband: 0.05
                            inverted: false
                            polynomial:
                                '@id': rotPoly
                                powerToCoefficientMap: !!map
                                    2 : 1
                    fwdThrottle:
                        org.usfirst.frc.team449.robot.oi.throttles.ThrottleSum:
                            '@id': fwdThrottle
                            throttles:
                                - org.usfirst.frc.team449.robot.oi.throttles.ThrottlePolynomial:
                                    <<: *rotThrottle
                                    '@id': fwdTrigger
                                    axis: 3
                                    inverted: false
                                    polynomial:
                                        '@id': fwdPoly
                                        powerToCoefficientMap: !!map
                                            2 : 1
                                - org.usfirst.frc.team449.robot.oi.throttles.ThrottlePolynomial:
                                    <<: *rotThrottle
                                    '@id': revTrigger
                                    axis: 2
                                    inverted: true
                                    polynomial:
                                        '@id': revPoly
                                        powerToCoefficientMap: !!map
                                            2 : 1
                    invertDPad: false
                    dPadShift: 0.1
                    turnInPlaceRotScale: 0.5
                    scaleRotByFwdPoly:
                        '@id': scaleRotByFwdPoly
                        powerToCoefficientMap: !!map
                            0.5: 0.6
                            0: 0.2
            autoshiftComponent:
                '@id': autoshiftComponent
                upshiftSpeed: 10
                downshiftSpeed: 6
                upshiftDebouncer:
                    '@id': upshiftDebouncer
                    bufferTimeSeconds: 0.06
                upshiftFwdThresh: 0.3
startupCommand:
    org.usfirst.frc.team449.robot.commands.general.ParallelCommandGroup:
        '@id': startupCommand
        commandSet:
            - org.usfirst.frc.team449.robot.generalInterfaces.shiftable.commands.SwitchToHighGear:
#            - org.usfirst.frc.team449.robot.generalInterfaces.shiftable.commands.SwitchToLowGear:
                '@id': startupSwitchGearCommand
                subsystem:
                    org.usfirst.frc.team449.robot.drive.unidirectional.DriveTalonClusterShiftable:
                        drive
            - org.usfirst.frc.team449.robot.commands.general.RunRunnables:
                '@id': runRunnables
                runnables:
                    - org.usfirst.frc.team449.robot.other.UnidirectionalPoseEstimator:
                        poseEstimator
teleopStartupCommand:
    org.usfirst.frc.team449.robot.subsystem.singleImplementation.pneumatics.commands.StartCompressor:
        '@id': startCompressor
        subsystem:
            org.usfirst.frc.team449.robot.subsystem.singleImplementation.pneumatics.Pneumatics:
                pneumatics
autoStartupCommand:
    org.usfirst.frc.team449.robot.commands.general.CommandSequence:
      '@id': autoStart
      commandList:
#        - org.usfirst.frc.team449.robot.generalInterfaces.shiftable.commands.SwitchToHighGear:
       - org.usfirst.frc.team449.robot.generalInterfaces.shiftable.commands.SwitchToLowGear:
            '@id': startupSwitchGearCommandautp
            subsystem:
                org.usfirst.frc.team449.robot.drive.unidirectional.DriveTalonClusterShiftable:
                    drive
       - org.usfirst.frc.team449.robot.VoltageRamp:
            '@id': autoCommand
            subsystem:
                org.usfirst.frc.team449.robot.drive.unidirectional.DriveTalonClusterShiftable:
                    drive
#            voltsPerSecond: 0.15
            voltsPerSecond: -0.15
#       - org.usfirst.frc.team449.robot.drive.unidirectional.commands.DriveAtSpeed:
#              '@id': testAccel
#              subsystem:
#                  org.usfirst.frc.team449.robot.drive.unidirectional.DriveTalonClusterShiftable:
#                      drive
##              velocity: -1
#              velocity: -0.5
##              velocity: 0.5
#              seconds: 3
updater:
    org.usfirst.frc.team449.robot.other.Updater:
        '@id': updater
        updatables:
            - org.usfirst.frc.team449.robot.drive.unidirectional.DriveTalonClusterShiftable:
                drive
            - org.usfirst.frc.team449.robot.oi.unidirectional.arcade.OIArcadeWithDPad:
                oi
buttons:
    -   button:
            org.usfirst.frc.team449.robot.oi.buttons.SimpleButton:
                '@id': upB
                joystick:
                    org.usfirst.frc.team449.robot.jacksonWrappers.MappedJoystick:
                        driverGamepad
                buttonNumber: 2
        command:
            org.usfirst.frc.team449.robot.generalInterfaces.shiftable.commands.SwitchToHighGear:
    #       org.usfirst.frc.team449.robot.generalInterfaces.shiftable.commands.SwitchToLowGear:
                '@id': upc
                subsystem:
                    org.usfirst.frc.team449.robot.drive.unidirectional.DriveTalonClusterShiftable:
                        drive
        action: WHEN_PRESSED
    -   button:
            org.usfirst.frc.team449.robot.oi.buttons.SimpleButton:
                '@id': dowB
                joystick:
                    org.usfirst.frc.team449.robot.jacksonWrappers.MappedJoystick:
                        driverGamepad
                buttonNumber: 1
        command:
#            org.usfirst.frc.team449.robot.generalInterfaces.shiftable.commands.SwitchToHighGear:
           org.usfirst.frc.team449.robot.generalInterfaces.shiftable.commands.SwitchToLowGear:
                '@id': downc
                subsystem:
                    org.usfirst.frc.team449.robot.drive.unidirectional.DriveTalonClusterShiftable:
                        drive
        action: WHEN_PRESSED